graph TD;
    User[User] -->|POST /svr| Express[Express Backend]
    Express -->|Calls CreateSalesAndVehicularReport| NAV[NAV Codeunit]
    
    NAV -->|Create SVR Header| Header[SVR Header Component]
    Header -->|Store SVR Header| HeaderDB[Invoice Header Database]
    
    NAV -->|Create SVR Lines| Lines[SVR Lines Component]
    Lines -->|Store SVR Lines| LinesDB[Invoice Lines Database]
    
    NAV -->|If Any Step Fails| Rollback[Rollback Component]
    Rollback -->|Undo SVR Header| HeaderDB
    Rollback -->|Undo SVR Lines| LinesDB
    
    Rollback -->|Return Error| Error[Error Handler]
    NAV -->|Return Success| UI[User Interface]
    UI -->|Return SVR Created| User
